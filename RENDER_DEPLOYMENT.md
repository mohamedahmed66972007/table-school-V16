# نشر التطبيق على Render

## الخطوات المطلوبة

### 1. إنشاء قاعدة بيانات PostgreSQL على Render
1. اذهب إلى Render Dashboard
2. اضغط على "New +" واختر "PostgreSQL"
3. اختر اسم لقاعدة البيانات (مثل: `school-schedule-db`)
4. احفظ `DATABASE_URL` الذي سيظهر بعد الإنشاء

### 2. إنشاء Web Service
1. اضغط على "New +" واختر "Web Service"
2. اربط مستودع GitHub الخاص بك
3. قم بتعيين الإعدادات التالية:

#### Build Settings
- **Build Command**: `npm install && npm run db:push && npm run build`
- **Start Command**: `npm run start`

#### Environment Variables
أضف المتغيرات التالية:
- `DATABASE_URL`: الصق قيمة DATABASE_URL من قاعدة البيانات التي أنشأتها
- `NODE_ENV`: `production`
- `PORT`: سيتم تعيينها تلقائياً بواسطة Render (لا تحتاج إضافتها يدوياً)

### 3. النشر
- بعد إضافة جميع الإعدادات، اضغط على "Create Web Service"
- Render سيقوم بنشر التطبيق تلقائياً
- انتظر حتى يكتمل النشر (قد يستغرق 5-10 دقائق)

## ملاحظات مهمة
- التطبيق يستخدم PostgreSQL للتخزين الدائم - جميع البيانات محفوظة
- عند أول تشغيل، سيتم تهيئة قاعدة البيانات تلقائياً بالبيانات الافتراضية
- التطبيق مُعد للعمل على المنفذ 5000 افتراضياً
- استخدم متغير البيئة `PORT` لتغيير المنفذ إذا لزم الأمر

## تحديث التطبيق
- عند دفع تحديثات إلى GitHub، سيقوم Render بنشر النسخة الجديدة تلقائياً
- تأكد من أن `npm run db:push` يعمل بنجاح في أمر البناء

## استكشاف الأخطاء
- تحقق من سجلات Render (Logs) لمعرفة أي أخطاء
- تأكد من أن `DATABASE_URL` صحيح ومتصل
- تحقق من أن جميع المتغيرات البيئية مضافة بشكل صحيح
